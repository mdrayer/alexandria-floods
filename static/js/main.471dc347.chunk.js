(this["webpackJsonpalexandria-floods"]=this["webpackJsonpalexandria-floods"]||[]).push([[0],{213:function(e,t,a){e.exports=a(497)},218:function(e,t,a){},497:function(e,t,a){"use strict";a.r(t);var n=a(1),r=a.n(n),c=a(60),l=a.n(c),o=(a(218),a(65)),u=a(105),i=a(7),m=a(503),s=a(502),d=["#003f5c","#bc5090","#ffa600"],f=function(e){var t=e.data,a=Object(m.a)(Object(s.a)([].concat(Object(u.a)(t.map((function(e){return e.data.map((function(e){return e.rate}))}))),Object(u.a)(t.map((function(e){return e.data.map((function(e){return e.accumulation}))}))))));return r.a.createElement("div",null,r.a.createElement("h2",null,"Precipitation Rate (inches per hour)"),r.a.createElement(i.e,{width:"100%",height:300},r.a.createElement(i.d,{syncId:"floodCharts"},r.a.createElement(i.a,{strokeDasharray:"3 3"}),r.a.createElement(i.g,{dataKey:"index",type:"number",tickFormatter:function(e){return 15*e}}),r.a.createElement(i.h,{dataKey:"rate",domain:a&&[0,Math.ceil(a)]||void 0}),r.a.createElement(i.f,{labelFormatter:function(e){return"".concat(15*Number(e)," minutes")}}),r.a.createElement(i.b,null),t.map((function(e,t){return r.a.createElement(i.c,{key:e.date,connectNulls:!0,type:"monotone",data:e.data,name:e.date,dataKey:"rate",stroke:d[t]})})))),r.a.createElement("h2",null,"Total accumulation (inches)"),r.a.createElement(i.e,{width:"100%",height:300},r.a.createElement(i.d,{syncId:"floodCharts"},r.a.createElement(i.a,{strokeDasharray:"3 3"}),r.a.createElement(i.g,{dataKey:"index",type:"number",tickFormatter:function(e){return 15*e}}),r.a.createElement(i.h,{dataKey:"accumulation",domain:a&&[0,Math.ceil(a)]||void 0}),r.a.createElement(i.f,{labelFormatter:function(e){return"".concat(15*Number(e)," minutes")}}),r.a.createElement(i.b,null),t.map((function(e,t){return r.a.createElement(i.c,{key:e.date,connectNulls:!0,type:"monotone",data:e.data,name:e.date,dataKey:"accumulation",stroke:d[t]})})))))},E=a(183),h=["January","February","March","April","May","June","July","August","September","October","November","December"],p=function(e){var t=Number(e.substring(0,2)),a=e.substring(2),n=t>12?"PM":"AM",r=t%12,c=String(0===r?12:r),l=2===c.length?"":"0";return"".concat(l).concat(c,":").concat(a," ").concat(n)},b=function(e){var t=e.split("_"),a=Object(o.a)(t,3),n=a[0],r=a[1],c=a[2];return"".concat(h[Number(r)-1]," ").concat(Number(c),", ").concat(n)},v=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";return Object(E.a)(e)?e.toFixed(2)+t:"\u2014"},w=function(e){var t=e.data;return r.a.createElement("div",null,r.a.createElement("div",{className:"row"},r.a.createElement("h2",null,"Data by date")),r.a.createElement("div",{className:"row"},t.map((function(e){return r.a.createElement("div",{className:"col-sm",key:e.date},r.a.createElement("h3",null,e.date),r.a.createElement("table",null,r.a.createElement("thead",null,r.a.createElement("tr",null,r.a.createElement("th",null,"Time"),r.a.createElement("th",null,"Rate"),r.a.createElement("th",null,"Accumulation"))),r.a.createElement("tbody",null,e.data.map((function(e){return r.a.createElement("tr",{key:e.time},r.a.createElement("th",null,e.time),r.a.createElement("td",null,v(e.rate," in.")),r.a.createElement("td",null,v(e.accumulation," in.")))})))))}))))},y=a(42),N=a.n(y),g=a(184),k=a(104),x=a(504),A=["2019_07_08","2020_07_23","2020_09_10"];function j(e,t){return O.apply(this,arguments)}function O(){return(O=Object(k.a)(N.a.mark((function e(t,a){return N.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Object(x.a)(t,(function(e){return{date:b(a),time:e.time&&p(e.time)||"",rate:e.rate&&0!==e.rate.length?Number(e.rate):null,accumulation:e.accumulation&&0!==e.accumulation.length?Number(e.accumulation):null}})));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var K=function(){var e=Object(k.a)(N.a.mark((function e(){var t;return N.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Promise.all(A.map((function(e){return j("/alexandria-floods/data/".concat(e,".csv"),e)})));case 2:return t=e.sent,e.abrupt("return",t.map((function(e){var t=e.findIndex((function(e){return e.rate&&e.rate>.5}));return{date:e[0].date,data:e.filter((function(e,a){return!(t>3)||a>t-4})).map((function(e,t){return Object(g.a)({},e,{index:t})}))}})));case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();var F=function(){var e=Object(n.useState)(null),t=Object(o.a)(e,2),a=t[0],c=t[1];return Object(n.useEffect)((function(){K().then(c)}),[]),r.a.createElement("div",{className:"container"},r.a.createElement("div",{className:"header text-center"},r.a.createElement("h1",null,"Precipitation Stats for Major Flood Events in Alexandria, VA")),r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col"},r.a.createElement("p",{className:"text-center"},"Data retrieved from PWS Rosemont Park - KVAALEXA9:"," ",r.a.createElement("a",{href:"https://www.wunderground.com/dashboard/pws/KVAALEXA9",target:"_blank",rel:"noopener noreferrer"},"https://www.wunderground.com/dashboard/pws/KVAALEXA9")))),a?r.a.createElement("div",null,r.a.createElement(f,{data:a}),r.a.createElement(w,{data:a})):r.a.createElement("div",{className:"row align-items-center"},r.a.createElement("div",{className:"col text-center"},r.a.createElement("div",{className:"spinner-border",role:"status"},r.a.createElement("span",{className:"sr-only"},"Loading...")))),r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col text-center"},"Icons made by"," ",r.a.createElement("a",{href:"https://www.flaticon.com/authors/good-ware",title:"Good Ware"},"Good Ware")," ","from"," ",r.a.createElement("a",{href:"https://www.flaticon.com/",title:"Flaticon"},"www.flaticon.com"))))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));l.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(F,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[213,1,2]]]);
//# sourceMappingURL=main.471dc347.chunk.js.map