(this["webpackJsonpalexandria-floods"]=this["webpackJsonpalexandria-floods"]||[]).push([[0],{213:function(e,t,a){e.exports=a(497)},218:function(e,t,a){},497:function(e,t,a){"use strict";a.r(t);var n=a(1),r=a.n(n),c=a(60),l=a.n(c),o=(a(218),a(65)),u=a(105),i=a(502),m=a(503),s=a(14),d=["#003f5c","#bc5090","#ffa600"],f=function(e){var t=e.data,a=e.maxYValue,n=e.dataKey,c=e.syncId;return r.a.createElement(s.e,{width:"100%",height:300},r.a.createElement(s.d,{syncId:c,margin:{right:5,bottom:20}},r.a.createElement(s.a,{strokeDasharray:"3 3"}),r.a.createElement(s.g,{dataKey:"index",type:"number",tickFormatter:function(e){return 15*e},tickCount:6,domain:["dataMin","dataMax"],label:{value:"Elapsed time (minutes)",position:"bottom",offset:0}}),r.a.createElement(s.h,{dataKey:n,width:20,domain:a&&[0,Math.ceil(a)]||void 0}),r.a.createElement(s.f,{labelFormatter:function(e){return"".concat(15*Number(e)," minutes")}}),r.a.createElement(s.b,{verticalAlign:"top"}),t.map((function(e,t){return r.a.createElement(s.c,{key:e.date,connectNulls:!0,type:"monotone",data:e.data,name:e.date,dataKey:n,stroke:d[t]})}))))},E=function(e){var t=e.data,a=Object(i.a)(t.map((function(e){return e.data}))),n=Object(m.a)([].concat(Object(u.a)(a.map((function(e){return e.rate}))),Object(u.a)(a.map((function(e){return e.accumulation})))));return r.a.createElement("div",null,r.a.createElement("h2",null,"Precipitation Rate (inches per hour)"),r.a.createElement(f,{data:t,maxYValue:n,dataKey:"rate",syncId:"floodCharts"}),r.a.createElement("h2",null,"Total accumulation (inches)"),r.a.createElement(f,{data:t,maxYValue:n,dataKey:"accumulation",syncId:"floodCharts"}))},h=a(183),p=["January","February","March","April","May","June","July","August","September","October","November","December"],b=function(e){var t=Number(e.substring(0,2)),a=e.substring(2),n=t>11?"PM":"AM",r=t%12,c=String(0===r?12:r),l=2===c.length?"":"0";return"".concat(l).concat(c,":").concat(a," ").concat(n)},v=function(e){var t=e.split("_"),a=Object(o.a)(t,3),n=a[0],r=a[1],c=a[2];return"".concat(p[Number(r)-1]," ").concat(Number(c),", ").concat(n)},w=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";return Object(h.a)(e)?e.toFixed(2)+t:"\u2014"},y=function(e){var t=e.data;return r.a.createElement("div",null,r.a.createElement("div",{className:"row"},r.a.createElement("h2",null,"Data by date")),r.a.createElement("div",{className:"row"},t.map((function(e){return r.a.createElement("div",{className:"col-sm",key:e.date},r.a.createElement("h3",null,e.date),r.a.createElement("table",null,r.a.createElement("thead",null,r.a.createElement("tr",null,r.a.createElement("th",null,"Time"),r.a.createElement("th",null,"Rate"),r.a.createElement("th",null,"Accumulation"))),r.a.createElement("tbody",null,e.data.map((function(e){return r.a.createElement("tr",{key:e.time},r.a.createElement("th",null,e.time),r.a.createElement("td",null,w(e.rate," in.")),r.a.createElement("td",null,w(e.accumulation," in.")))})))))}))))},g=a(42),N=a.n(g),x=a(184),k=a(104),j=a(504),O=["2019_07_08","2020_07_23","2020_09_10"];function A(e,t){return M.apply(this,arguments)}function M(){return(M=Object(k.a)(N.a.mark((function e(t,a){return N.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Object(j.a)(t,(function(e){return{date:v(a),time:e.time&&b(e.time)||"",rate:e.rate&&0!==e.rate.length?Number(e.rate):null,accumulation:e.accumulation&&0!==e.accumulation.length?Number(e.accumulation):null}})));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var K=function(){var e=Object(k.a)(N.a.mark((function e(){var t;return N.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Promise.all(O.map((function(e){return A("/alexandria-floods/data/".concat(e,".csv"),e)})));case 2:return t=e.sent,e.abrupt("return",t.map((function(e){var t=e.findIndex((function(e){return e.rate&&e.rate>.5}));return{date:e[0].date,data:e.filter((function(e,a){return!(t>3)||a>t-4})).map((function(e,t){return Object(x.a)({},e,{index:t})}))}})));case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();var _=function(){var e=Object(n.useState)(null),t=Object(o.a)(e,2),a=t[0],c=t[1];return Object(n.useEffect)((function(){K().then(c)}),[]),r.a.createElement("div",{className:"container"},r.a.createElement("div",{className:"header text-center"},r.a.createElement("h1",null,"Precipitation Stats for Major Flash Flood Events in Alexandria, VA")),r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col"},r.a.createElement("p",{className:"text-center"},"Data retrieved from"," ",r.a.createElement("a",{href:"https://www.wunderground.com/dashboard/pws/KVAALEXA9",target:"_blank",rel:"noopener noreferrer"},"PWS Rosemont Park - KVAALEXA9")))),a?r.a.createElement("div",null,r.a.createElement(E,{data:a}),r.a.createElement(y,{data:a})):r.a.createElement("div",{className:"row align-items-center"},r.a.createElement("div",{className:"col text-center"},r.a.createElement("div",{className:"spinner-border",role:"status"},r.a.createElement("span",{className:"sr-only"},"Loading...")))),r.a.createElement("div",{className:"row border-top mt-3"},r.a.createElement("div",{className:"col text-center"},"Icons made by"," ",r.a.createElement("a",{href:"https://www.flaticon.com/authors/good-ware",title:"Good Ware"},"Good Ware")," ","from"," ",r.a.createElement("a",{href:"https://www.flaticon.com/",title:"Flaticon"},"www.flaticon.com"))))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));l.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(_,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[213,1,2]]]);
//# sourceMappingURL=main.84023f6f.chunk.js.map