(this["webpackJsonpalexandria-floods"]=this["webpackJsonpalexandria-floods"]||[]).push([[0],{213:function(e,t,a){e.exports=a(497)},218:function(e,t,a){},497:function(e,t,a){"use strict";a.r(t);var n=a(1),r=a.n(n),c=a(60),l=a.n(c),o=(a(218),a(65)),i=a(105),m=a(502),u=a(503),s=a(18),d=["#003f5c","#bc5090","#ffa600"],f=function(e){var t=e.data,a=e.maxYValue,n=e.dataKey,c=e.syncId;return r.a.createElement(s.e,{width:"100%",height:300},r.a.createElement(s.d,{syncId:c,margin:{right:5,bottom:20}},r.a.createElement(s.a,{strokeDasharray:"3 3"}),r.a.createElement(s.f,{dataKey:"elapsedTime",type:"number",ticks:[0,30,60,90,120,150,180],domain:[0,180],label:{value:"Elapsed time (minutes)",position:"bottom",offset:0}}),r.a.createElement(s.g,{dataKey:n,width:20,domain:a&&[0,Math.ceil(a)]||void 0}),r.a.createElement(s.b,{verticalAlign:"top"}),t.map((function(e,t){return r.a.createElement(s.c,{key:e.date,connectNulls:!0,type:"monotone",data:e.data.filter((function(e){return e.elapsedTime<=180})),name:e.date,dataKey:n,stroke:d[t]})}))))},E=function(e){var t=e.data,a=Object(m.a)(t.map((function(e){return e.data}))),n=Object(u.a)([].concat(Object(i.a)(a.map((function(e){return e.rate}))),Object(i.a)(a.map((function(e){return e.accumulation})))));return r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-lg-6"},r.a.createElement("h2",{className:"text-center"},"Precipitation Rate (inches per hour)"),r.a.createElement(f,{data:t,maxYValue:n,dataKey:"rate"})),r.a.createElement("div",{className:"col-lg-6"},r.a.createElement("h2",{className:"text-center"},"Total accumulation (inches)"),r.a.createElement(f,{data:t,maxYValue:n,dataKey:"accumulation"})))},h=a(183),p=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";return Object(h.a)(e)?e.toFixed(2)+t:"\u2014"},v=function(e){var t=e.data;return r.a.createElement("div",{className:"row"},t.map((function(e){return r.a.createElement("div",{className:"col-md-4",key:e.date},r.a.createElement("h3",{className:"text-center"},e.date),r.a.createElement("table",null,r.a.createElement("thead",null,r.a.createElement("tr",null,r.a.createElement("th",null,"Time"),r.a.createElement("th",null,"Rate"),r.a.createElement("th",null,"Accumulation"))),r.a.createElement("tbody",null,e.data.map((function(e){return r.a.createElement("tr",{key:e.time},r.a.createElement("th",null,e.time),r.a.createElement("td",{align:"right"},p(e.rate," in.")),r.a.createElement("td",{align:"right"},p(e.accumulation," in.")))})))))})))},w=a(42),b=a.n(w),g=a(184),y=a(104),N=a(504),x=["2019_07_08","2020_07_23","2020_09_10"];function k(e,t){var a=(e.getTime()-t.getTime())/1e3/60;return Math.abs(Math.round(a))}function j(e){return O.apply(this,arguments)}function O(){return(O=Object(y.a)(b.a.mark((function e(t){return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Object(N.a)(t,(function(e){var t=e.Date,a=e.Time,n=e["Precip. Rate."],r=e["Precip. Accum."];return{date:String(t),time:String(a),rate:n&&0!==n.length?Number(n):null,accumulation:r&&0!==r.length?Number(r):null}})));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var A=function(){var e=Object(y.a)(b.a.mark((function e(){var t;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Promise.all(x.map((function(e){return j("/alexandria-floods/data/".concat(e,".csv"))})));case 2:return t=e.sent,e.abrupt("return",t.map((function(e){var t=e.findIndex((function(e){return e.rate&&e.rate>.5})),a=t>=2?t-2:0,n=a+13,r=null;return{date:e[0].date,data:e.filter((function(e,t){return t>=a&&t<n})).map((function(e){r||(r=new Date("".concat(e.date," ").concat(e.time)));var t=new Date("".concat(e.date," ").concat(e.time));return Object(g.a)({},e,{elapsedTime:k(r,t)})}))}})));case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();var K=function(){var e=Object(n.useState)(null),t=Object(o.a)(e,2),a=t[0],c=t[1];return Object(n.useEffect)((function(){A().then(c)}),[]),r.a.createElement("div",{className:"container"},r.a.createElement("div",{className:"header text-center"},r.a.createElement("h1",null,"Precipitation Stats for Major Flash Flood Events in Alexandria,\xa0VA")),r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col"},r.a.createElement("p",{className:"text-center"},"Data retrieved from"," ",r.a.createElement("a",{href:"https://www.wunderground.com/dashboard/pws/KVAALEXA9",target:"_blank",rel:"noopener noreferrer"},"PWS Rosemont Park - KVAALEXA9")))),a?r.a.createElement("div",null,r.a.createElement(E,{data:a}),r.a.createElement(v,{data:a})):r.a.createElement("div",{className:"row align-items-center"},r.a.createElement("div",{className:"col text-center"},r.a.createElement("div",{className:"spinner-border",role:"status"},r.a.createElement("span",{className:"sr-only"},"Loading...")))),r.a.createElement("div",{className:"row border-top mt-3"},r.a.createElement("div",{className:"col text-center"},"Icons made by"," ",r.a.createElement("a",{href:"https://www.flaticon.com/authors/good-ware",title:"Good Ware"},"Good Ware")," ","from"," ",r.a.createElement("a",{href:"https://www.flaticon.com/",title:"Flaticon"},"www.flaticon.com"))))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));l.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(K,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[213,1,2]]]);
//# sourceMappingURL=main.e708c8f3.chunk.js.map